
/************************************************** Description *******************************************************/
/*
    File : WithDelay.ino
    Programmer : Mohammad Lotfi
    Used : Sample used observer
    Design Pattern : Observer
    Types of memory : Heap & Stack
    Total Tread : Nothing
    Site : https://www.mahsen.ir
    Tel : +989124662703
    Email : info@mahsen.ir
    Last Update : 2023/6/9
*/
/************************************************** Warnings **********************************************************/
/*
    Turning off a pin after delay
*/
/************************************************** Wizards ***********************************************************/
/*
    Nothing
*/
/************************************************** Includes **********************************************************/
/*
    Nothing
*/
/************************************************** Defineds **********************************************************/
#define TIME_OUT 300 //Secound
/************************************************** Names *************************************************************/
/*
    Nothing
*/
/************************************************** Variables *********************************************************/
const int Pin_LAMP =             9; 
const int Pin_LED_CPU =          10; 
/*--------------------------------------------------------------------------------------------------------------------*/
bool Value_LAMP =               false;
/************************************************** Opjects ***********************************************************/
/*
    Nothing
*/
/************************************************** Functions *********************************************************/
void Set_Value_LED_CPU(bool Value)
{
  digitalWrite(Pin_LED_CPU, Value?LOW:HIGH);
}
/*--------------------------------------------------------------------------------------------------------------------*/
void Set_Value_LAMP(bool Value)
{
  Value_LAMP = Value;
  digitalWrite(Pin_LAMP, Value_LAMP?LOW:HIGH);
}
/*--------------------------------------------------------------------------------------------------------------------*/
void setup()
{

  ///
  //{
  pinMode(Pin_LED_CPU, OUTPUT);
  pinMode(Pin_LAMP, OUTPUT);
  //}
  
  Set_Value_LED_CPU(false);
  Set_Value_LAMP(true);

  Serial.begin(115200);
  Serial.println();

  Serial.println("Start");


}
/************************************************** Tasks *************************************************************/
void loop()
{
  static int Time = 0;
  
  if(Time == TIME_OUT) {
    Set_Value_LAMP(false);
    Serial.println("TimeOut.");
    Time++;
  }
  else if(Time > TIME_OUT) {

  }
  else {
    Time++;
    Serial.print("Time is ");
    Serial.println(Time);
  }

  delay(500);
  Set_Value_LED_CPU(true);
  delay(500);
  Set_Value_LED_CPU(false);
}
/************************************************** Vectors ***********************************************************/
/*
    Nothing
*/
/**********************************************************************************************************************/
